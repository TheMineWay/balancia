{
  "id": "b6eb211f-6c26-41bd-9292-3b3396b82a60",
  "prevId": "147972aa-7720-45a2-a242-a33c8c3c9c28",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "finances.accounts": {
      "name": "accounts",
      "schema": "finances",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "accounts_userId_users_id_fk": {
          "name": "accounts_userId_users_id_fk",
          "tableFrom": "accounts",
          "tableTo": "users",
          "schemaTo": "identity",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "finances.categories": {
      "name": "categories",
      "schema": "finances",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "categories_userId_index": {
          "name": "categories_userId_index",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "categories_userId_users_id_fk": {
          "name": "categories_userId_users_id_fk",
          "tableFrom": "categories",
          "tableTo": "users",
          "schemaTo": "identity",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "social.contacts": {
      "name": "contacts",
      "schema": "social",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "lastName": {
          "name": "lastName",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "contacts_userId_users_id_fk": {
          "name": "contacts_userId_users_id_fk",
          "tableFrom": "contacts",
          "tableTo": "users",
          "schemaTo": "identity",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contacts_userId_code_unique": {
          "name": "contacts_userId_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "userId",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "debt.debt_origin_transactions": {
      "name": "debt_origin_transactions",
      "schema": "debt",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "debtId": {
          "name": "debtId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "transactionId": {
          "name": "transactionId",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "debt_origin_transactions_debtId_debts_id_fk": {
          "name": "debt_origin_transactions_debtId_debts_id_fk",
          "tableFrom": "debt_origin_transactions",
          "tableTo": "debts",
          "schemaTo": "debt",
          "columnsFrom": [
            "debtId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "debt_origin_transactions_transactionId_transactions_id_fk": {
          "name": "debt_origin_transactions_transactionId_transactions_id_fk",
          "tableFrom": "debt_origin_transactions",
          "tableTo": "transactions",
          "schemaTo": "finances",
          "columnsFrom": [
            "transactionId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "debt.debt_payments": {
      "name": "debt_payments",
      "schema": "debt",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "debtId": {
          "name": "debtId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "transactionId": {
          "name": "transactionId",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "debtorId": {
          "name": "debtorId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "paidAt": {
          "name": "paidAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "debt_payments_debtId_index": {
          "name": "debt_payments_debtId_index",
          "columns": [
            {
              "expression": "debtId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "debt_payments_debtId_debts_id_fk": {
          "name": "debt_payments_debtId_debts_id_fk",
          "tableFrom": "debt_payments",
          "tableTo": "debts",
          "schemaTo": "debt",
          "columnsFrom": [
            "debtId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "debt_payments_transactionId_transactions_id_fk": {
          "name": "debt_payments_transactionId_transactions_id_fk",
          "tableFrom": "debt_payments",
          "tableTo": "transactions",
          "schemaTo": "finances",
          "columnsFrom": [
            "transactionId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "debt_payments_debtorId_contacts_id_fk": {
          "name": "debt_payments_debtorId_contacts_id_fk",
          "tableFrom": "debt_payments",
          "tableTo": "contacts",
          "schemaTo": "social",
          "columnsFrom": [
            "debtorId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "debt_payments_transactionId_unique": {
          "name": "debt_payments_transactionId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "transactionId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "debt.debts": {
      "name": "debts",
      "schema": "debt",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "debtorId": {
          "name": "debtorId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "varchar(2048)",
          "primaryKey": false,
          "notNull": false
        },
        "notifiedAt": {
          "name": "notifiedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "debts_debtorId_index": {
          "name": "debts_debtorId_index",
          "columns": [
            {
              "expression": "debtorId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debts_userId_notifiedAt_index": {
          "name": "debts_userId_notifiedAt_index",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "notifiedAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "debts_debtorId_contacts_id_fk": {
          "name": "debts_debtorId_contacts_id_fk",
          "tableFrom": "debts",
          "tableTo": "contacts",
          "schemaTo": "social",
          "columnsFrom": [
            "debtorId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identity.permissions": {
      "name": "permissions",
      "schema": "identity",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "permissions_id_seq",
            "schema": "identity",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "code": {
          "name": "code",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "permissions_code_unique": {
          "name": "permissions_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identity.role_permissions": {
      "name": "role_permissions",
      "schema": "identity",
      "columns": {
        "roleId": {
          "name": "roleId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "permissionId": {
          "name": "permissionId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "role_permissions_roleId_idx": {
          "name": "role_permissions_roleId_idx",
          "columns": [
            {
              "expression": "roleId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "role_permissions_permissionId_idx": {
          "name": "role_permissions_permissionId_idx",
          "columns": [
            {
              "expression": "permissionId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "role_permissions_roleId_roles_id_fk": {
          "name": "role_permissions_roleId_roles_id_fk",
          "tableFrom": "role_permissions",
          "tableTo": "roles",
          "schemaTo": "identity",
          "columnsFrom": [
            "roleId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "role_permissions_permissionId_permissions_id_fk": {
          "name": "role_permissions_permissionId_permissions_id_fk",
          "tableFrom": "role_permissions",
          "tableTo": "permissions",
          "schemaTo": "identity",
          "columnsFrom": [
            "permissionId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "role_permissions_roleId_permissionId_pk": {
          "name": "role_permissions_roleId_permissionId_pk",
          "columns": [
            "roleId",
            "permissionId"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identity.roles": {
      "name": "roles",
      "schema": "identity",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "roles_id_seq",
            "schema": "identity",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "finances.tag_automatchers": {
      "name": "tag_automatchers",
      "schema": "finances",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(1024)",
          "primaryKey": false,
          "notNull": false
        },
        "tagId": {
          "name": "tagId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "criteria": {
          "name": "criteria",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tag_automatchers_tagId_index": {
          "name": "tag_automatchers_tagId_index",
          "columns": [
            {
              "expression": "tagId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tag_automatchers_tagId_tags_id_fk": {
          "name": "tag_automatchers_tagId_tags_id_fk",
          "tableFrom": "tag_automatchers",
          "tableTo": "tags",
          "schemaTo": "finances",
          "columnsFrom": [
            "tagId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "finances.tags": {
      "name": "tags",
      "schema": "finances",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": false
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tags_userId_index": {
          "name": "tags_userId_index",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tags_userId_users_id_fk": {
          "name": "tags_userId_users_id_fk",
          "tableFrom": "tags",
          "tableTo": "users",
          "schemaTo": "identity",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "finances.transaction_tags": {
      "name": "transaction_tags",
      "schema": "finances",
      "columns": {
        "transactionId": {
          "name": "transactionId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tagId": {
          "name": "tagId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "transaction_tags_transactionId_transactions_id_fk": {
          "name": "transaction_tags_transactionId_transactions_id_fk",
          "tableFrom": "transaction_tags",
          "tableTo": "transactions",
          "schemaTo": "finances",
          "columnsFrom": [
            "transactionId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transaction_tags_tagId_tags_id_fk": {
          "name": "transaction_tags_tagId_tags_id_fk",
          "tableFrom": "transaction_tags",
          "tableTo": "tags",
          "schemaTo": "finances",
          "columnsFrom": [
            "tagId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "transaction_tags_transactionId_tagId_pk": {
          "name": "transaction_tags_transactionId_tagId_pk",
          "columns": [
            "transactionId",
            "tagId"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "finances.transactions": {
      "name": "transactions",
      "schema": "finances",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "performedAt": {
          "name": "performedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "performedAtPrecision": {
          "name": "performedAtPrecision",
          "type": "time_precision",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'datetime'"
        },
        "categoryId": {
          "name": "categoryId",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "accountId": {
          "name": "accountId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "account_id_and_performed_at_and_id_IDX": {
          "name": "account_id_and_performed_at_and_id_IDX",
          "columns": [
            {
              "expression": "accountId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"performedAt\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" DESC",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "category_id_IDX": {
          "name": "category_id_IDX",
          "columns": [
            {
              "expression": "categoryId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transactions_categoryId_categories_id_fk": {
          "name": "transactions_categoryId_categories_id_fk",
          "tableFrom": "transactions",
          "tableTo": "categories",
          "schemaTo": "finances",
          "columnsFrom": [
            "categoryId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "transactions_accountId_accounts_id_fk": {
          "name": "transactions_accountId_accounts_id_fk",
          "tableFrom": "transactions",
          "tableTo": "accounts",
          "schemaTo": "finances",
          "columnsFrom": [
            "accountId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identity.user_preferences": {
      "name": "user_preferences",
      "schema": "identity",
      "columns": {
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": true,
          "notNull": true
        },
        "mainAccount": {
          "name": "mainAccount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_preferences_userId_users_id_fk": {
          "name": "user_preferences_userId_users_id_fk",
          "tableFrom": "user_preferences",
          "tableTo": "users",
          "schemaTo": "identity",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_preferences_mainAccount_accounts_id_fk": {
          "name": "user_preferences_mainAccount_accounts_id_fk",
          "tableFrom": "user_preferences",
          "tableTo": "accounts",
          "schemaTo": "finances",
          "columnsFrom": [
            "mainAccount"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identity.user_roles": {
      "name": "user_roles",
      "schema": "identity",
      "columns": {
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "roleId": {
          "name": "roleId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_roles_userId_users_id_fk": {
          "name": "user_roles_userId_users_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "users",
          "schemaTo": "identity",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_roles_roleId_roles_id_fk": {
          "name": "user_roles_roleId_roles_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "roles",
          "schemaTo": "identity",
          "columnsFrom": [
            "roleId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "user_roles_userId_roleId_pk": {
          "name": "user_roles_userId_roleId_pk",
          "columns": [
            "userId",
            "roleId"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identity.users": {
      "name": "users",
      "schema": "identity",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "users_id_seq",
            "schema": "identity",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "code": {
          "name": "code",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_code_unique": {
          "name": "users_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.time_precision": {
      "name": "time_precision",
      "schema": "public",
      "values": [
        "date",
        "datetime"
      ]
    }
  },
  "schemas": {
    "debt": "debt",
    "finances": "finances",
    "identity": "identity",
    "social": "social"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {
    "finances.account_category_expenses_stats": {
      "columns": {
        "accountId": {
          "name": "accountId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "categoryId": {
          "name": "categoryId",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "definition": "select \"accountId\", \"categoryId\", date_trunc('month', \"performedAt\")::date as \"date\", SUM(CASE WHEN \"amount\" > 0 THEN \"amount\" ELSE 0 END)::numeric as \"income\", SUM(CASE WHEN \"amount\" < 0 THEN abs(\"amount\") ELSE 0 END)::numeric as \"outcome\" from \"finances\".\"transactions\" group by \"finances\".\"transactions\".\"accountId\", \"finances\".\"transactions\".\"categoryId\", \"date\"",
      "name": "account_category_expenses_stats",
      "schema": "finances",
      "isExisting": false,
      "with": {
        "autovacuumEnabled": true
      },
      "materialized": true
    },
    "finances.account_monthly_stats": {
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "definition": "select \"finances\".\"accounts\".\"id\", \"finances\".\"accounts\".\"userId\", date_trunc('month', \"finances\".\"transactions\".\"performedAt\")::date as \"date\", sum(\"finances\".\"transactions\".\"amount\")::numeric as \"monthlyBalance\", SUM(CASE WHEN \"finances\".\"transactions\".\"amount\" > 0 THEN \"finances\".\"transactions\".\"amount\" ELSE 0 END)::numeric as \"income\", SUM(CASE WHEN \"finances\".\"transactions\".\"amount\" < 0 THEN abs(\"finances\".\"transactions\".\"amount\") ELSE 0 END)::numeric as \"outcome\" from \"finances\".\"accounts\" left join \"finances\".\"transactions\" on \"finances\".\"transactions\".\"accountId\" = \"finances\".\"accounts\".\"id\" group by \"finances\".\"accounts\".\"id\", \"finances\".\"accounts\".\"userId\", \"date\"",
      "name": "account_monthly_stats",
      "schema": "finances",
      "isExisting": false,
      "with": {
        "autovacuumEnabled": true
      },
      "materialized": true
    },
    "finances.account_stats": {
      "columns": {
        "userId": {
          "name": "userId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        }
      },
      "definition": "select \"finances\".\"accounts\".\"userId\", \"finances\".\"accounts\".\"id\", \"balance\" from \"finances\".\"accounts\" inner join (select sum(\"amount\") as \"balance\", \"accountId\" from \"finances\".\"transactions\" group by \"finances\".\"transactions\".\"accountId\") \"agg_balance\" on \"agg_balance\".\"accountId\" = \"finances\".\"accounts\".\"id\"",
      "name": "account_stats",
      "schema": "finances",
      "isExisting": false,
      "with": {
        "autovacuumEnabled": true
      },
      "materialized": true
    }
  },
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}